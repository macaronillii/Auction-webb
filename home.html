<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Auction - ‡πÄ‡∏ß‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</title>
    <link rel="stylesheet" href="style.css" />
   
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;700&display=swap" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">üèÜ Auction</div>
            <div class="tagline">‡πÄ‡∏ß‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</div>
            <div class="header-right"></div>
        </header>

        <nav class="nav">
            <ul class="nav-menu">
                <li class="nav-item"><a href="home.html" class="nav-link active">üè† Home</a></li>
                <li class="nav-item"><a href="product-list.html" class="nav-link">üöÄ Start Auction</a></li>
                <li class="nav-item"><a href="cart.html" class="nav-link">üõí Cart</a></li>
                <li class="nav-item"><a href="search.html" class="nav-link">üîç Search</a></li>
                <li class="nav-item"><a href="auctions.html" class="nav-link">üë§ User</a></li>
            </ul>
        </nav>

        <div class="search-section">
            <div class="search-container">
                <div class="search-bar">
                    <input type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..." class="search-input" id="searchInput" />
                    <button class="search-btn" onclick="performSearch()">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                </div>
                <div class="filters">
                    <div class="filter-group">
                        <div class="filter-label">üìä ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°</div>
                        <select class="filter-select">
                            <option>‡∏£‡∏≤‡∏Ñ‡∏≤: ‡∏ï‡πà‡∏≥ ‚Üí ‡∏™‡∏π‡∏á</option>
                            <option>‡∏£‡∏≤‡∏Ñ‡∏≤: ‡∏™‡∏π‡∏á ‚Üí ‡∏ï‡πà‡∏≥</option>
                            <option>‡πÉ‡∏´‡∏°‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</option>
                            <option>‡πÉ‡∏Å‡∏•‡πâ‡∏õ‡∏¥‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <div class="filter-label">üóÇ ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</div>
                        <select class="filter-select">
                            <option>‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                            <option>‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤</option>
                            <option>‡∏≠‡∏¥‡πÄ‡∏•‡πá‡∏Å‡∏ó‡∏£‡∏≠‡∏ô‡∏¥‡∏Å‡∏™‡πå</option>
                            <option>‡∏á‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏∞</option>
                            <option>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <div class="filter-label">üí∞ ‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤</div>
                        <select class="filter-select">
                            <option>‡∏ó‡∏∏‡∏Å‡∏£‡∏≤‡∏Ñ‡∏≤</option>
                            <option>&lt; 1,000 ‡∏ö‡∏≤‡∏ó</option>
                            <option>1,000 - 5,000 ‡∏ö‡∏≤‡∏ó</option>
                            <option>5,000 - 10,000 ‡∏ö‡∏≤‡∏ó</option>
                            <option>&gt; 10,000 ‡∏ö‡∏≤‡∏ó</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <main class="main-content">
            <div id="home" class="section">
                <h2 class="section-title"> ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</h2>

                <div class="auction-grid"></div>

                <script>
                    window.addEventListener('DOMContentLoaded', () => {
                        const grid = document.querySelector('.auction-grid');
                        const items = JSON.parse(localStorage.getItem('auctionItems')) || [];

                        if (items.length === 0) {
                            grid.innerHTML = "<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°</p>";
                            return;
                        }

                        grid.innerHTML = ''; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤

                        items.forEach((item, index) => {
                            const card = document.createElement('div');
                            card.className = 'auction-card';

                            // ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏à‡∏≤‡∏Å array images
                            const firstImage = item.images && item.images.length > 0 ? item.images[0] : '';

                            card.innerHTML = `
                                <div class="card-image">
                                    <img src="${firstImage}" alt="${item.title}" style="width: 100%; height: 200px; object-fit: cover;" />
                                    <div class="status-badge status-active">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•</div>
                                </div>
                                <div class="card-content">
                                    <h3 class="card-title">${item.title}</h3>
                                    <p class="card-price">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ‡∏ø${item.price}</p>
                                    <p class="card-time">‚è∞ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: ${item.time} ‡∏ô‡∏≤‡∏ó‡∏µ</p>
                                    <button class="bid-btn" onclick="placeBid()">‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•</button>
                                    <button class="delete-btn" onclick="deleteItem(${index})">üóë ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
                                </div>
                            `;
                            grid.appendChild(card);
                        });
                    });

                    function placeBid() {
                        alert("‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° backend ‡∏à‡∏£‡∏¥‡∏á");
                    }

                    function deleteItem(index) {
                        if (confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ?")) {
                            let items = JSON.parse(localStorage.getItem('auctionItems')) || [];
                            items.splice(index, 1); // ‡∏•‡∏ö item ‡∏ï‡∏≤‡∏° index
                            localStorage.setItem('auctionItems', JSON.stringify(items));
                            location.reload(); // ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
                        }
                    }
                </script>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
    <script>
        // Set 'Home' as active on load
        document.addEventListener('DOMContentLoaded', () => {
            const currentPath = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (
                    link.getAttribute('href') === 'home.html' &&
                    (currentPath.endsWith('home.html') || currentPath === '/' || currentPath.endsWith('/your-project-folder-name/'))
                ) {
                    link.classList.add('active');
                }
            });
        });

                    window.addEventListener('DOMContentLoaded', () => {
    const grid = document.querySelector('.auction-grid');
    const items = JSON.parse(localStorage.getItem('auctionItems')) || [];

    if (items.length === 0) {
        grid.innerHTML = "<p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°</p>";
        return;
    }

    grid.innerHTML = ''; // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πà‡∏≤

    items.forEach((item, index) => {
    const card = document.createElement('div');
    card.className = 'auction-card';

    const firstImage = item.images && item.images.length > 0 ? item.images[0] : '';

    card.innerHTML = `
        <div class="card-image" style="cursor: pointer;" data-index="${index}">
            <img src="${firstImage}" alt="${item.title}" style="width: 100%; height: 200px; object-fit: cover;" />
            <div class="status-badge status-active">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•</div>
        </div>
        <div class="card-content">
            <h3 class="card-title">${item.title}</h3>
            <p class="card-price">üí∞ ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ‡∏ø${item.price}</p>
            <p class="card-time">‚è∞ ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: ${item.time} ‡∏ô‡∏≤‡∏ó‡∏µ</p>
            <button class="delete-btn" onclick="deleteItem(${index})">üóë ‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</button>
        </div>
    `;
    grid.appendChild(card);
});

// ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡∏£‡∏π‡∏õ ‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ product-detail.html
document.querySelectorAll('.card-image').forEach(imgDiv => {
    imgDiv.addEventListener('click', (e) => {
        const idx = e.currentTarget.getAttribute('data-index');
        localStorage.setItem('selectedProduct', JSON.stringify(items[idx]));
        window.location.href = 'product-detail.html';
    });
});

});

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏õ‡∏¥‡∏î modal ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
function openDetailModal(item) {
    document.getElementById('modalTitle').innerText = item.title || '';
    document.getElementById('modalPriceStart').innerText = item.startPrice || item.price || '-';
    document.getElementById('modalPriceMax').innerText = item.maxPrice || '-';
    document.getElementById('modalBidMin').innerText = item.minBid || '-';
    document.getElementById('modalDuration').innerText = item.duration || '-';
    document.getElementById('modalDescription').innerText = item.description || '';

    // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô modal
    let currentImageIndex = 0;
    const modalImage = document.getElementById('modalImage');
    const images = item.images && item.images.length > 0 ? item.images : [''];

    function showImage(index) {
        if (images[index]) {
            modalImage.src = images[index];
        } else {
            modalImage.src = '';
        }
    }

    showImage(currentImageIndex);

    document.getElementById('prevImageBtn').onclick = () => {
        currentImageIndex = (currentImageIndex - 1 + images.length) % images.length;
        showImage(currentImageIndex);
    };

    document.getElementById('nextImageBtn').onclick = () => {
        currentImageIndex = (currentImageIndex + 1) % images.length;
        showImage(currentImageIndex);
    };

    // ‡πÅ‡∏™‡∏î‡∏á modal
    const modal = document.getElementById('detailModal');
    modal.style.display = 'block';

    // ‡∏õ‡∏∏‡πà‡∏°‡∏õ‡∏¥‡∏î modal
    document.getElementById('modalCloseBtn').onclick = () => {
        modal.style.display = 'none';
    };

    // ‡∏Å‡∏î‡∏ô‡∏≠‡∏Å modal ‡∏õ‡∏¥‡∏î modal ‡πÑ‡∏î‡πâ
    window.onclick = (event) => {
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    };
}

function placeBid() {
    alert("‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏π‡∏•‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° backend ‡∏à‡∏£‡∏¥‡∏á");
}

function deleteItem(index) {
    if (confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ?")) {
        let items = JSON.parse(localStorage.getItem('auctionItems')) || [];
        items.splice(index, 1); // ‡∏•‡∏ö item ‡∏ï‡∏≤‡∏° index
        localStorage.setItem('auctionItems', JSON.stringify(items));
        location.reload(); // ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
    }
}

    </script>

    <!-- Modal ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
<div id="detailModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" id="modalCloseBtn">&times;</span>
    <h2 id="modalTitle"></h2>
    <div class="modal-images">
      <button id="prevImageBtn" class="img-nav-btn">&#10094;</button>
      <img id="modalImage" src="" alt="‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û" />
      <button id="nextImageBtn" class="img-nav-btn">&#10095;</button>
    </div>
    <p><strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</strong> ‡∏ø<span id="modalPriceStart"></span></p>
    <p><strong>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î:</strong> ‡∏ø<span id="modalPriceMax"></span></p>
    <p><strong>BID ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥:</strong> ‡∏ø<span id="modalBidMin"></span></p>
    <p><strong>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á):</strong> <span id="modalDuration"></span></p>
    <p><strong>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong></p>
    <p id="modalDescription"></p>
  </div>
</div>

</body>
</html>
